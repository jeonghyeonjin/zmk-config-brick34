/*                KEY POSITIONS

  ╭────────────────────╮ ╭────────────────────╮
  │  0   1   2   3   4 │ │  5   6   7   8   9 │
  │ 10  11  12  13  14 │ │ 15  16  17  18  19 │
  │ 20  21  22  23  24 │ │ 25  26  27  28  29 │
  ╰───────────╮ 30  31 │ │ 32  33 ╭───────────╯
              ╰────────╯ ╰────────╯            */

#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, MS) \
  combo_##NAME { \
    bindings = <BINDINGS>; \
    key-positions = <KEYPOS>; \
    layers = <LAYERS>; \
    timeout-ms = <MS>; \
    require-prior-idle-ms = <150>; \
  };

#define COMBO_TERM_FAST 15
#define COMBO_TERM_NORMAL 25
#define COMBO_TERM_SLOW 40
#define COMBO_TERM_SUPERSLOW 80

combos {
        compatible = "zmk,combos";

COMBO(tab,        &kp TAB,             0  1, BASE,          COMBO_TERM_SLOW)
COMBO(tab2,       &kp TAB,             1  2, BASE,          COMBO_TERM_SLOW)
COMBO(undo,       &kp LC(Z),          21 22, BASE,          COMBO_TERM_SLOW)
COMBO(esc,        &kp ESC,             3  4, BASE,          COMBO_TERM_SLOW)

COMBO(lalt,       &kp LALT,            1   3, BASE,         COMBO_TERM_NORMAL)
COMBO(lsft,       &kp LSHIFT,         11  13, BASE,         COMBO_TERM_NORMAL)
COMBO(lctl,       &kp LCTRL,          21  23, BASE,         COMBO_TERM_NORMAL)

COMBO(1,          &kp N1,              0 10, BASE,          COMBO_TERM_SLOW)
COMBO(2,          &kp N2,              1 11, BASE,          COMBO_TERM_SLOW)
COMBO(3,          &kp N3,              2 12, BASE,          COMBO_TERM_SLOW)
COMBO(4,          &kp N4,              3 13, BASE,          COMBO_TERM_SLOW)
COMBO(5,          &kp N5,              4 14, BASE,          COMBO_TERM_SLOW)
COMBO(6,          &kp N6,              5 15, BASE,          COMBO_TERM_SLOW)
COMBO(7,          &kp N7,              6 16, BASE,          COMBO_TERM_SLOW)
COMBO(8,          &kp N8,              7 17, BASE,          COMBO_TERM_SLOW)
COMBO(9,          &kp N9,              8 18, BASE,          COMBO_TERM_SLOW)
COMBO(0,          &kp N0,              9 19, BASE,          COMBO_TERM_SLOW)

COMBO(minus,      &kp MINUS,          15 16, BASE,          COMBO_TERM_SLOW)
COMBO(equal,      &kp EQUAL,          25 26, BASE,          COMBO_TERM_SLOW)
COMBO(under,      &kp UNDER,          13 14, BASE,          COMBO_TERM_SLOW)
COMBO(plus,       &kp PLUS,           23 24, BASE,          COMBO_TERM_SLOW)
COMBO(bslh,       &kp BSLH,           28 29, BASE,          COMBO_TERM_SLOW)
COMBO(sqt,        &kp SQT,            17 18, BASE,          COMBO_TERM_SLOW)
COMBO(grave,      &kp GRAVE,          18 19, BASE,          COMBO_TERM_SLOW)

COMBO(lpar,       &kp LPAR,            2  3, BASE,          COMBO_TERM_SLOW)
COMBO(lbrc,       &kp LBRC,           12 13, BASE,          COMBO_TERM_SLOW)
COMBO(lbkt,       &kp LBKT,           22 23, BASE,          COMBO_TERM_SLOW)
COMBO(rpar,       &kp RPAR,            6  7, BASE,          COMBO_TERM_SLOW)
COMBO(rbrc,       &kp RBRC,           16 17, BASE,          COMBO_TERM_SLOW)
COMBO(rbkt,       &kp RBKT,           26 27, BASE,          COMBO_TERM_SLOW)

// POI 레이어가 제거되어 마우스 관련 콤보 비활성화
// 필요시 마우스 기능을 다시 추가할 수 있습니다
// COMBO(sdwon0,     &msc SCRL_DOWN,      7  9, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(sdwon3,     &msc SCRL_DOWN,      6  8, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(mclk1,      &mkp MCLK,           9 17, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(mclk2,      &mkp MCLK,           8  9, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(mclk3,      &mkp MCLK,           2 12, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(sup0,       &msc SCRL_UP,       17 27, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(sdown1,     &msc SCRL_DOWN,      7  8, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(sdown2,     &msc SCRL_DOWN,      8 17, POI,           COMBO_TERM_SUPERSLOW)
// COMBO(backward,   &mkp MB4,            1  2, POI,           COMBO_TERM_SLOW)
// COMBO(forward,    &mkp MB5,            2  3, POI,           COMBO_TERM_SLOW)
};
